# ═══════════════════════════════════════════════════════════════
# Hytale Server Configuration
# ═══════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────
# PATCHLINE
# ───────────────────────────────────────────────────────────────
# Server version to download
# Options: release, pre-release
PATCHLINE=release

# ───────────────────────────────────────────────────────────────
# JAVA OPTIONS (JVM)
# ───────────────────────────────────────────────────────────────
# Memory allocated to server
# -Xmx: Maximum memory
# -Xms: Initial memory
# Recommendations:
#   - Small server (1-5 players)    : -Xmx2G -Xms1G
#   - Medium server (5-10 players)  : -Xmx4G -Xms2G
#   - Large server (10-20 players)  : -Xmx8G -Xms4G
#   - Very large server (20+)       : -Xmx16G -Xms8G
JAVA_MEMORY="-Xmx16G -Xms8G"

# Additional Java options
# --enable-native-access=ALL-UNNAMED: Avoids Netty warnings
JAVA_EXTRA_OPTS="--enable-native-access=ALL-UNNAMED"

# Complete JVM options (don't modify unless you know what you're doing)
JAVA_OPTS="$JAVA_MEMORY $JAVA_EXTRA_OPTS"

# ───────────────────────────────────────────────────────────────
# HYTALE SERVER OPTIONS
# ───────────────────────────────────────────────────────────────
# Path to assets (automatic, don't modify)
# ASSETS_PATH will be set automatically by the script

# Disable Sentry (telemetry/crash reporting)
# Options: --disable-sentry (recommended for privacy)
DISABLE_SENTRY="--disable-sentry"

# Accept early plugins (plugins loaded early)
# WARNING: May cause stability issues
# Options: --accept-early-plugins
# ACCEPT_EARLY_PLUGINS="--accept-early-plugins"
ACCEPT_EARLY_PLUGINS="--accept-early-plugin"

# Authentication mode
# Options:
#   - authenticated (default): Hytale authentication required
#   - offline: Offline mode (no authentication)
#   - insecure: Insecure mode
# AUTH_MODE="--auth-mode authenticated"
AUTH_MODE=""

# Server port (default: 5520)
# Leave empty to use default port
# Or use --port when starting: ./manage-hytale-server.sh start normal --port 25565
SERVER_PORT=""

# Bind address (default: 0.0.0.0:5520)
# Leave empty to use default
# BIND_ADDRESS="--bind 0.0.0.0:5520"
BIND_ADDRESS=""

# Automatic backups
# --backup: Enable automatic backups
# --backup-frequency: Frequency in minutes (default: 30)
# --backup-max-count: Maximum number of backups (default: 5)
# --backup-dir: Backup directory
AUTO_BACKUP=""
# AUTO_BACKUP="--backup --backup-frequency 30 --backup-max-count 5"

# Additional server options
# Add any additional options here
# Examples:
#   --allow-op: Allow operators
#   --bare: Minimal mode
#   --singleplayer: Singleplayer mode
EXTRA_SERVER_OPTS=""

# Complete server options (built automatically)
# Don't modify this line
SERVER_OPTS="$DISABLE_SENTRY $ACCEPT_EARLY_PLUGINS $AUTH_MODE $BIND_ADDRESS $AUTO_BACKUP $EXTRA_SERVER_OPTS"

# ───────────────────────────────────────────────────────────────
# PATHS AND FILES
# ───────────────────────────────────────────────────────────────
# Backup directory (for configuration backups)
BACKUP_DIR="Backups"

# Number of configuration backups to keep
BACKUP_RETENTION=10

# Logs directory
LOGS_DIR="Logs"

# Main log file
# LOG_FILE="$LOGS_DIR/server.log"
LOG_FILE=""  # Leave empty to use default (Logs/server.log)

# ───────────────────────────────────────────────────────────────
# NOTES
# ───────────────────────────────────────────────────────────────
# To apply changes:
#   1. Edit this file
#   2. Restart the server: ./manage-hytale-server.sh restart
#
# To see all available options:
#   java -jar Server/HytaleServer.jar --help
#
# Documentation:
#   https://support.hytale.com/hc/en-us/articles/45326769420827
